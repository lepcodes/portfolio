---
import CopyIcon from "../icons/CopyIcon.astro";
import XIcon from "../icons/XIcon.astro";
---
<div>
  <!-- <button id="pop-over-toggle" class="flex items-center gap-3 font-extrabold border rounded-xl pl-2 overflow-hidden hover:cursor-pointer hover:border-teal-700 hover:scale-120 transition-all duration-200">
    Contact Me
    <div class="text-md top-0 m-0 border border-white overflow-hidden hover:cursor-pointer hover:border-teal-700 hover:scale-120 transition-all duration-200">
      <img src="/src/assets/ProfilePicture.png" alt="Logo" class="h-8 w-8 md:h-10 md:w-10 object-cover  hover:scale-107 transition-all duration-200"/>
    </div>
  </button> -->

  <button id="pop-over-toggle" class="flex items-center rounded-full pulse">
    <div id="profile-picture" class="text-md top-0 m-0 border border-white rounded-full overflow-hidden hover:cursor-pointer hover:border-teal-700 hover:scale-120 transition-all duration-200">
      <img src="/src/assets/ProfilePicture.png" alt="Logo" class="h-8 w-8 md:h-10 md:w-10 object-cover  hover:scale-107 transition-all duration-200"/>
    </div>
    <div id="close-button" class="hidden rounded-full overflow-hidden p-1">
      <XIcon class="h-8 w-8 weight-bold hover:cursor-pointer hover:text-gray-200"/>
    </div>
  </button>

  <div id="pop-over" class="flex flex-col absolute top-[90%] left-10 items-center gap-4 border-1 border-gray-700 rounded-lg py-4 px-8 bg-[#00000099] overflow-hidden pop-over-out">
    <div class="flex flex-col items-center gap-2 m-2 mt-4 ">
      <img src="/src/assets/ProfilePicture.png" alt="Profile" class="rounded-full self-center w-32 h-32 border-2"/>
      <h1 class="text-xl font-extrabold text-gray-200 mt-1">Luis Preciado</h1>
      <p class="text-sm text-gray-400">AI and Robotics Engineer</p>
    </div>
    <div class="grid grid-cols-2 gap-2 text-sm w-fit">
      <div class="flex items-center h-8 border border-gray-400 rounded-lg overflow-hidden">
        <a 
          href="https://www.linkedin.com/in/luispreciado" 
          class="flex items-center justify-center h-full px-2 text-gray-300 hover:text-teal-300 bg-[#00000040] hover:bg-[#22222240] transition-all duration-200 flex-1"
        >
          LinkedIn
        </a>
        <button class="group border h-full w-fit px-1.5 py-1 bg-white font-bold text-black border-transparent hover:cursor-pointer">
          <CopyIcon class="h-4 w-4 bg-white group-hover:text-teal-600"/>
        </button>
      </div>
      <div class="flex items-center h-8 border border-gray-400 rounded-lg overflow-hidden">
        <a 
          href="https://github.com/lepcodes"
          class="flex items-center justify-center h-full px-2 text-gray-300 hover:text-teal-300 bg-[#00000040] hover:bg-[#22222240] transition-all duration-200 flex-1"
        >
          GitHub
        </a>
        <button class="group border h-full w-fit px-1.5 py-1 bg-white font-bold text-black border-transparent hover:cursor-pointer">
          <CopyIcon class="h-4 w-4 bg-white group-hover:text-teal-600"/>
        </button>
      </div>
      <div class="flex items-center h-8 border border-gray-400 rounded-lg overflow-hidden">
        <a 
          href="mailto:luispre99@gmail.com"
          class="flex items-center justify-center h-full px-2 text-gray-300 hover:text-teal-300 bg-[#00000040] hover:bg-[#22222240] transition-all duration-200 flex-1"
        >
          Mail
        </a>
        <button class="group border h-full w-fit px-1.5 py-1 bg-white font-bold text-black border-transparent hover:cursor-pointer">
          <CopyIcon class="h-4 w-4 bg-white group-hover:text-teal-600"/>
        </button>
      </div>
      <div class="flex items-center h-8 border border-gray-400 rounded-lg overflow-hidden">
        <a 
          href="tel:+5715985634"
          class="flex items-center justify-center h-full px-2 text-gray-300 hover:text-teal-300 bg-[#00000040] hover:bg-[#22222240] transition-all duration-200 flex-1"
        >
          Phone
        </a>
        <button class="group border h-full w-fit px-1.5 py-1 bg-white font-bold text-black border-transparent hover:cursor-pointer">
          <CopyIcon class="h-4 w-4 bg-white group-hover:text-teal-600"/>
        </button>
      </div>
    </div>
    <button class="self-center border border-gray-700 rounded-lg w-fit px-2 py-1 text-sm bg-white font-bold text-black mt-2 hover:cursor-pointer hover:text-teal-600 transition-all duration-100 mb-4 pulse-glow">
      Download Resume
    </button>
  </div>
</div>

<script>
  const popOverToggle = document.getElementById('pop-over-toggle');
  const profilePicture = document.getElementById('profile-picture');
  const closeButton = document.getElementById('close-button');

  const popOver = document.getElementById('pop-over');
  popOverToggle?.addEventListener('click', () => {
    popOver?.classList.toggle('pop-over-in');
    popOver?.classList.toggle('pop-over-out');
    popOverToggle?.classList.toggle('pulse');
    profilePicture?.classList.toggle('hidden');
    closeButton?.classList.toggle('hidden');
  });
</script>